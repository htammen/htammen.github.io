/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Element","sap/ui/core/library","sap/ui/core/Icon","sap/ui/core/IconPool","sap/ui/Device"],function(e,t,i,s,a){"use strict";var n=t.TextDirection;var r={apiVersion:2};r.CSS_CLASS="sapMSelectList";r.render=function(e,t){this.writeOpenListTag(e,t,{elementData:true});this.renderItems(e,t);this.writeCloseListTag(e,t)};r.writeOpenListTag=function(e,t,i){var s=r.CSS_CLASS,a=t.getProperty("_tabIndex");if(i.elementData){e.openStart("ul",t)}else{e.openStart("ul")}e.class(s);if(t.getShowSecondaryValues()){e.class(s+"TableLayout")}if(!t.getEnabled()){e.class(s+"Disabled")}if(a){e.attr("tabindex",a)}e.style("width",t.getWidth());this.writeAccessibilityState(e,t);e.openEnd()};r.writeCloseListTag=function(e,t){e.close("ul")};r.renderItems=function(e,t){var i=t._getNonSeparatorItemsCount(),s=t.getItems(),a=t.getSelectedItem(),n=1,r,o;for(var l=0;l<s.length;l++){o=l===0&&!a;r={selected:a===s[l],setsize:i,elementData:true};if(!(s[l]instanceof sap.ui.core.SeparatorItem)){r.posinset=n++}this.renderItem(e,t,s[l],r,o)}};r.renderDirAttr=function(e,t){if(t!==n.Inherit){e.attr("dir",t.toLowerCase())}};r.renderItem=function(t,i,s,n,o){if(!(s instanceof e)){return}var l=s.getEnabled(),c=i.getSelectedItem(),d=r.CSS_CLASS,f=s.getTooltip_AsString(),p=s.getTextDirection(),I=i.getShowSecondaryValues(),S;t.openStart("li",n.elementData?s:null);if(!I){this.renderDirAttr(t,p)}if(s.getIcon&&s.getIcon()){t.class("sapMSelectListItemWithIcon")}if(s instanceof sap.ui.core.SeparatorItem){t.class(d+"SeparatorItem");if(I){t.class(d+"Row")}}else{t.class(d+"ItemBase");if(I){t.class(d+"Row")}else{t.class(d+"Item")}if(s.bVisible===false){t.class(d+"ItemBaseInvisible")}if(!l){t.class(d+"ItemBaseDisabled")}if(l&&a.system.desktop){t.class(d+"ItemBaseHoverable")}if(s===c||o){t.class(d+"ItemBaseSelected")}if(l){t.attr("tabindex","0")}}if(f){t.attr("title",f)}this.writeItemAccessibilityState.apply(this,arguments);t.openEnd();if(I){S=i._getColumnsPercentages();t.openStart("span");t.class(d+"Cell");t.class(d+"FirstCell");if(S){t.style("width",S.firstColumn)}t.attr("disabled","disabled");this.renderDirAttr(t,p);t.openEnd();this._renderIcon(t,s);t.text(s.getText());t.close("span");t.openStart("span");t.class(d+"Cell");t.class(d+"LastCell");if(S){t.style("width",S.secondColumn)}t.attr("disabled","disabled");t.openEnd();if(typeof s.getAdditionalText==="function"){t.text(s.getAdditionalText())}t.close("span")}else{this._renderIcon(t,s);t.text(s.getText())}t.close("li")};r.writeAccessibilityState=function(e,t){e.accessibilityState(t,{role:"listbox"})};r.writeItemAccessibilityState=function(e,t,i,a){var n=i.isA("sap.ui.core.SeparatorItem")?"separator":"option";var r;if(!i.getText()&&i.getIcon&&i.getIcon()){var o=s.getIconInfo(i.getIcon());if(o){r=o.text||o.name}}e.accessibilityState(i,{role:n,selected:a.selected,setsize:a.setsize,posinset:a.posinset,label:r})};r._renderIcon=function(e,t){if(t.getIcon&&t.getIcon()){e.icon(t.getIcon(),r.CSS_CLASS+"ItemIcon",{id:t.getId()+"-icon"})}};return r},true);