/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/Device","sap/ui/core/library","sap/ui/core/IconPool","sap/ui/core/ShortcutHintsMixin","sap/m/library","sap/ui/core/InvisibleText"],function(e,t,a,n,i,s){"use strict";var r=i.ButtonType;var c=i.ButtonAccessibilityType;var o=t.TextDirection;var l=i.BadgeState;var p=t.aria.HasPopup;var d={apiVersion:2};d.render=function(t,i){var s=i.getId();var c=i.getType();var l=i.getEnabled();var p=i.getWidth();var b=i._getTooltip();var g=i._getText();var I=i.getTextDirection();var T=e.browser.internet_explorer||e.browser.edge;var A=I===o.Inherit&&!T;var B=a.getIconURI("nav-back");var f;t.openStart("button",i);t.class("sapMBtnBase");if(!i._isUnstyled()){t.class("sapMBtn");if((c===r.Back||c===r.Up)&&i._getAppliedIcon()&&!g){t.class("sapMBtnBack")}}var _=d.generateAccProps(i);if(this.renderAccessibilityAttributes){this.renderAccessibilityAttributes(t,i,_)}t.accessibilityState(i,_);if(!l){t.attr("disabled","disabled");if(!i._isUnstyled()){t.class("sapMBtnDisabled")}}else{switch(c){case r.Accept:case r.Reject:case r.Emphasized:case r.Attention:t.class("sapMBtnInverted");break;default:break}}if(b&&!n.isDOMIDRegistered(s)){t.attr("title",b)}if(p!=""||p.toLowerCase()==="auto"){t.style("width",p);if(i._getAppliedIcon()&&g){f="4rem"}else{f="2.25rem"}t.style("min-width",f)}u(i,t);t.openEnd();t.openStart("span",s+"-inner");if(!i._isUnstyled()){t.class("sapMBtnInner")}if(i._isHoverable()){t.class("sapMBtnHoverable")}if(l){t.class("sapMFocusable");if(T){t.class("sapMIE")}}if(!i._isUnstyled()){if(g){t.class("sapMBtnText")}if(c===r.Back||c===r.Up){t.class("sapMBtnBack")}if(i._getAppliedIcon()){if(i.getIconFirst()){t.class("sapMBtnIconFirst")}else{t.class("sapMBtnIconLast")}}}if(this.renderButtonAttributes){this.renderButtonAttributes(t,i)}if(!i._isUnstyled()&&c!==""){t.class("sapMBtn"+c)}u(i,t);t.openEnd();if(c===r.Back||c===r.Up){this.writeInternalIconPoolHtml(t,i,B)}if(i.getIconFirst()&&i._getAppliedIcon()){this.writeImgHtml(t,i)}if(g){t.openStart("span",s+"-content");t.class("sapMBtnContent");if(I!==o.Inherit){t.attr("dir",I.toLowerCase())}t.openEnd();if(A){t.openStart("bdi",s+"-BDI-content");t.openEnd()}t.text(g);if(A){t.close("bdi")}t.close("span")}if(!i.getIconFirst()&&i._getAppliedIcon()){this.writeImgHtml(t,i)}if(T&&l){t.openStart("span");t.class("sapMBtnFocusDiv");t.openEnd();t.close("span")}t.close("span");if(b){t.openStart("span",s+"-tooltip");t.class("sapUiInvisibleText");t.openEnd();t.text(b);t.close("span")}t.close("button")};d.writeImgHtml=function(e,t){var a=t.getType(),n=t.getIcon(),i=a===r.Back||a===r.Up;if(!n&&i){return}e.renderControl(t._getImage(t.getId()+"-img",t._getAppliedIcon(),t.getActiveIcon(),t.getIconDensityAware()))};d.writeInternalIconPoolHtml=function(e,t,a){e.renderControl(t._getInternalIconBtn(t.getId()+"-iconBtn",a))};function u(e,t){if(e._bExcludeFromTabChain){t.attr("tabindex",-1)}}var b={Accept:"BUTTON_ARIA_TYPE_ACCEPT",Reject:"BUTTON_ARIA_TYPE_REJECT",Attention:"BUTTON_ARIA_TYPE_ATTENTION",Emphasized:"BUTTON_ARIA_TYPE_EMPHASIZED",Critical:"BUTTON_ARIA_TYPE_CRITICAL",Negative:"BUTTON_ARIA_TYPE_NEGATIVE",Success:"BUTTON_ARIA_TYPE_SUCCESS"};d.getButtonTypeAriaLabelId=function(e){return s.getStaticId("sap.m",b[e])};d.getBadgeTextId=function(e){return e._oBadgeData&&e._oBadgeData.value!==""&&e._oBadgeData.state!==l.Disappear?e._getBadgeInvisibleText().getId():""};d.generateAccProps=function(e){var t=e._getText(),a=e.getAriaHasPopup(),n;if(t){n=d.generateTextButtonAccProps(e)}else{n=d.generateIconOnlyButtonAccProps(e)}n["disabled"]=null;n["haspopup"]=a===p.None?null:a.toLowerCase();return n};d.generateIconOnlyButtonAccProps=function(e){var t=d.getButtonTypeAriaLabelId(e.getType()),a=this.getBadgeTextId(e),n=e._getTooltip(),i=e.getId()+"-tooltip",s=e._determineAccessibilityType(),r={},o;switch(s){case c.Default:r["label"]={value:n,append:true};break;case c.Described:r["label"]={value:n,append:true};o=(t+" "+a).trim();o&&(r["describedby"]={value:o,append:true});break;case c.Labelled:r["describedby"]={value:i,append:true};break;case c.Combined:r["describedby"]={value:(i+" "+t+" "+a).trim(),append:true};break;default:break}return r};d.generateTextButtonAccProps=function(e){var t=e.getId(),a=d.getButtonTypeAriaLabelId(e.getType()),n=this.getBadgeTextId(e),i=e._getTooltip()?t+"-tooltip":"",s=t+"-content",r=e._determineAccessibilityType(),o=e._determineSelfReferencePresence(),l={},p;switch(r){case c.Default:i&&(l["describedby"]={value:i,append:true});break;case c.Described:p=(i+" "+a+" "+n).trim();p&&(l["describedby"]={value:p,append:true});break;case c.Labelled:o&&(l["labelledby"]={value:s,append:true});i&&(l["describedby"]={value:i,append:true});break;case c.Combined:p=(i+" "+a+" "+n).trim();p&&(l["describedby"]={value:p,append:true});o&&(l["labelledby"]={value:s,append:true});break;default:break}return l};return d},true);