/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./Component","sap/base/Log","sap/base/util/extend","sap/base/util/ObjectPath","sap/base/util/isEmptyObject","./Core"],function(n,t,e,i,o){"use strict";var a="sap.ui.viewReplacements",r="sap.ui.viewExtensions",u="sap.ui.viewModifications",s="sap.ui.controllerExtensions",f="sap.ui.controllerReplacements";var g={};function c(t,e,i){var o=e&&typeof e==="string"?e:e&&n.getOwnerIdFor(e);if(o){var a=n.get(o);var r=a&&a.getMetadata().getComponentName();var u=g[r+"::"+o];if(u&&u[t]&&i(u[t])){return false}else{u=g[r];if(u&&u[t]&&i(u[t])){return false}}}else{for(r in g){u=g[r];if(u&&u[t]&&i(u[t])){break}}}}var p={log:function(){if(window.console){window.console.log(g)}},activateForComponent:function(n){t.info("CustomizingConfiguration: activateForComponent('"+n+"')");var e=n+".Component";sap.ui.requireSync(e.replace(/\./g,"/"));var o=i.get(e).getMetadata().getCustomizing();g[n]=o;t.debug("CustomizingConfiguration: customizing configuration for component '"+n+"' loaded: "+JSON.stringify(o))},deactivateForComponent:function(n){if(g[n]){t.info("CustomizingConfiguration: deactivateForComponent('"+n+"')");delete g[n]}},activateForComponentInstance:function(n){t.info("CustomizingConfiguration: activateForComponentInstance('"+n.getId()+"')");var e=n.getMetadata().getComponentName(),i=e+"::"+n.getId(),o=n.getManifest()["sap.ui5"]&&n.getManifest()["sap.ui5"]["extends"]&&n.getManifest()["sap.ui5"]["extends"]["extensions"];g[i]=o;t.debug("CustomizingConfiguration: customizing configuration for component '"+i+"' loaded: "+JSON.stringify(o))},deactivateForComponentInstance:function(n){var e=n.getMetadata().getComponentName(),i=e+"::"+n.getId();if(g[i]){t.info("CustomizingConfiguration: deactivateForComponent('"+i+"')");delete g[i]}},getViewReplacement:function(n,t){var e;c(a,t,function(t){e=t[n];return!!e});return e},getViewExtension:function(n,t,e){var i;c(r,e,function(e){i=e[n]&&e[n][t];return!!i});return i},getControllerExtension:function(n,t){var e;c(s,t,function(t){e=t[n];return!!e});return e},getControllerReplacement:function(n,t){var e;c(f,t,function(t){e=t[n];return!!e});return e},getCustomProperties:function(n,i,o){var a;c(u,o,function(o){var r=o[n]&&o[n][i];var u={};var s=false;var f,g;if(r){for(g in r){f=r[g];if(g==="visible"){s=true;u[g]=f;t.info("Customizing: custom value for property '"+g+"' of control '"+i+"' in View '"+n+"' applied: "+f)}else{t.warning("Customizing: custom value for property '"+g+"' of control '"+i+"' in View '"+n+"' ignored: only the 'visible' property can be customized.")}}if(s){a=a||{};e(a,u)}}});return a},hasCustomProperties:function(n,t){var e={};c(u,t,function(t){if(!!t[n]){e=t[n]}});return!o(e)}};if(sap.ui.getCore().getConfiguration().getDisableCustomizing()){t.info("CustomizingConfiguration: disabling Customizing now");for(var m in p){if(typeof p[m]==="function"){p[m]=function(){}}}}return p},true);