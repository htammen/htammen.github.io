/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/util/merge","sap/ui/thirdparty/URI"],function(e,t){"use strict";function n(e){var t=document.querySelector("["+e+"]");return t?t.getAttribute(e):null}function r(){return new Promise(function(e){function t(){document.removeEventListener("DOMContentLoaded",t,false);e()}if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",t,false)}else{e()}})}function i(e){var t=document.createElement("link");t.rel="stylesheet";t.href=sap.ui.require.toUrl(e);document.head.appendChild(t)}function s(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;")}var u={name:null,beforeBootstrap:null,module:"./{name}.qunit",page:"resources/sap/ui/test/starter/Test.qunit.html?testsuite={suite}&test={name}",title:"QUnit tests '{name}' of suite '{suite}'",qunit:{version:"edge"},sinon:{version:"edge",qunitBridge:true,useFakeTimers:false,useFakeServer:false},coverage:{only:null,never:null,branchTracking:false},ui5:{bindingSyntax:"complex",noConflict:true,libs:[],theme:"sap_belize"},bootCore:true,autostart:true};function o(e){if(e&&typeof e==="object"){if(e.qunit===null||e.qunit===false){e.qunit={version:null}}else if(typeof e.qunit==="number"||e.qunit==="edge"){e.qunit={version:e.qunit}}else if(typeof e.qunit!=="object"){e.qunit={}}if(e.sinon===null||e.sinon===false){e.sinon={version:null}}else if(typeof e.sinon==="number"||e.sinon==="edge"){e.sinon={version:e.sinon}}else if(typeof e.sinon!=="object"){e.sinon={}}}else{e=null}return e}function a(n,r){function i(e,t){return e==null?e:e.replace(/\{suite\}/g,r).replace(/\{name\}/g,t)}var s=r.slice(0,r.lastIndexOf("/")+1);function a(e){return e==null?e:e.replace(/^\.\//,s)}var l=e({},u,o(n.defaults));Object.keys(n.tests).forEach(function(r){var s=o(n.tests[r]),u={name:r};s=e({},l,u,s);if(Array.isArray(s.module)){s.module=s.module.map(function(e){return a(i(e,r))})}else{s.module=a(i(s.module,r))}s.beforeBootstrap=a(i(s.beforeBootstrap,r));s.page=i(s.page,r);if(s.uriParams){var f=new t(s.page);f.addSearch(s.uriParams);s.page=f.toString()}s.title=i(s.title,r);n.tests[r]=s});n.sortedTests=Object.keys(n.tests).sort(function(e,t){var r=n.tests[e].group||"";var i=n.tests[t].group||"";if(r!==i){return r<i?-1:1}e=e.toUpperCase();t=t.toUpperCase();if(e===t){return 0}return e<t?-1:1}).map(function(e){return n.tests[e]});return n}var l=/^test-resources\/([a-zA-Z_$\-][a-zA-Z_$0-9\-\.]*\/)*testsuite(?:\.[a-z][a-z0-9\-]*)*\.qunit$/;function f(e){return new Promise(function(t,n){if(!e){throw new TypeError("No test suite specified")}if(!l.test(e)){throw new TypeError("Invalid test suite name")}sap.ui.require([e],function(n){t(a(n,e))},function(e){n(e)})})}sap.ui.loader.config({paths:{"test-resources":sap.ui.require.toUrl("")+"/../test-resources/"}});return{defaultConfig:u,addStylesheet:i,encode:s,getAttribute:n,getSuiteConfig:f,whenDOMReady:r}});